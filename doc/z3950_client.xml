<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.4//EN" 
    "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
 <!ENTITY copyright SYSTEM "copyright.xml">
 <!ENTITY % idcommon SYSTEM "common/common.ent">
     %idcommon;
]>
<refentry id="ref-z3950_client">
 <refentryinfo>
  <productname>Metaproxy</productname>
  <info><orgname>Index Data</orgname></info>
 </refentryinfo>

 <refmeta>
  <refentrytitle>z3950_client</refentrytitle>
  <manvolnum>3mp</manvolnum>
  <refmiscinfo class="manual">Metaproxy Module</refmiscinfo>
 </refmeta>
 
 <refnamediv>
  <refname>z3950_client</refname>
  <refpurpose>Metaproxy Z39.50 Backend Client Module</refpurpose>
 </refnamediv>
 
 <refsect1><title>DESCRIPTION</title>
  <para>
   This backend filter is a Z39.50 client. This modules
   proxies all Z39.50 packages to a target. HTTP packages are ignored.
   The address of the backend target (host) can be given as part of the
   Initialize Request (Virtual host) or the default target may be specified
   in the configuration.
  </para>
  <para>
   <variablelist>
    <varlistentry><term>timeout</term>
     <listitem>
      <para>
       Specifies how long the client will wait for any request
       before giving up. Default value is 30 seconds.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry><term>default_target</term>
     <listitem>
      <para>
       Specifies the target (host) for the Z39.50 server to be used
       if the Init Request does not indicate otherwise.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry><term>force_target</term>
     <listitem>
      <para>
       Specifies the target (host) for the Z39.50 server to be used
       always (regardless of Init Request vhost).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry><term>force_close</term>
     <listitem>
      <para>
       Is a boolean value (false, true). If true, the Z39.50 client will
       terminate Z39.50 sessions with a close APDU followed by a socket close.
       If false (default), the Z39.50 client will be transparent and only 
       send a close if the peer client does it too.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 
 <refsect1><title>SCHEMA</title>
   <literallayout><xi:include
		     xi:href="../xml/schema/filter_z3950_client.rnc"
		     xi:parse="text"  
		     xmlns:xi="http://www.w3.org/2001/XInclude" />
   </literallayout>
 </refsect1>
 
 <refsect1><title>EXAMPLES</title>
  <para>
   A typical configuration looks like this:
   <screen><![CDATA[
    <filter type="z3950_client">
     <timeout>30</timeout>
     <default_target>z3950.indexdata.dk</default_target>
    </filter>
]]>
   </screen>
  </para>
 </refsect1> 
 
 <refsect1><title>SEE ALSO</title>
  <para>
   <citerefentry>
    <refentrytitle>metaproxy</refentrytitle>
    <manvolnum>1</manvolnum>
   </citerefentry>
  </para>
  <para>
   <citerefentry>
    <refentrytitle>backend_test</refentrytitle>
    <manvolnum>3mp</manvolnum>
   </citerefentry>
  </para>
 </refsect1>
 
 &copyright;
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: nxml
nxml-child-indent: 1
End:
-->
