<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.4//EN"
    "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
 <!ENTITY copyright SYSTEM "copyright.xml">
 <!ENTITY % idcommon SYSTEM "common/common.ent">
     %idcommon;
]>
<refentry id="ref-frontend_net">
 <refentryinfo>
  <productname>Metaproxy</productname>
  <info><orgname>Index Data</orgname></info>
 </refentryinfo>

 <refmeta>
  <refentrytitle>frontend_net</refentrytitle>
  <manvolnum>3mp</manvolnum>
  <refmiscinfo class="manual">Metaproxy Module</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>frontend_net</refname>
  <refpurpose>Metaproxy Network Server module that accepts Z39.50 and
  HTTP requests</refpurpose>
 </refnamediv>

 <refsect1><title>DESCRIPTION</title>
  <para>
   This is a frontend module. Listens on one or more ports and
   sends HTTP/Z39.50 messages to other filters.
  </para>
 </refsect1>

 <refsect1><title>CONFIGURATION</title>
  <para>
   Element <literal>port</literal> is a repeating element (1 or more). The
   text content specifies a listening port.
  </para>
  <para>
   Element <literal>threads</literal> is an optional element. The
   text content specifies number of worker threads for the following
   filters to use. The default value is 5 (5 worker threads).
  </para>
  <para>
   Element <literal>timeout</literal> is an optional element. The
   text content is treated as an integer that specifies the session timeout
   in seconds for a client session (using the frontend net filter). The
   default value is 300 (5 minutes).
  </para>
  <para>
   Element <literal>connect-max</literal> is an optional element. The
   text content is treated as an integer that specifies maximum number
   of TCP sessions from the same original IP. The special value 0 means
   : no connection limit. This is also the default if this element is omitted.
  </para>
  <para>
   Element <literal>message</literal> is an optional element. If
   given and non-empty logging is performed by the frontend_net filter
   (to the log file as given ny option -l).
  </para>
  <para>
   Element <literal>stat-req</literal> is an optional element. It
   specifies a URL path that triggers a report to be generated by
   the frontend_net filter. By default this report is disabled (same
   as empty value). The value itself is the path and should be prefixed
   with a slash. For example <literal>/fn_stat</literal>.
  </para>
 </refsect1>

 <refsect1><title>SCHEMA</title>
   <literallayout><xi:include
		     xi:href="../xml/schema/filter_frontend_net.rnc"
		     xi:parse="text"
		     xmlns:xi="http://www.w3.org/2001/XInclude" />
   </literallayout>
 </refsect1>

 <refsect1><title>EXAMPLES</title>
  <para>
   A typical configuration looks like this:
   <screen><![CDATA[
    <filter type="frontend_net">
     <threads>10</threads>
     <port>@:9000</port>
     <message>FN</message>
     <stat-req>/fn_stat</stat-req>
    </filter>
]]>
   </screen>
  </para>
 </refsect1>

 <refsect1><title>SEE ALSO</title>
  <para>
   <citerefentry>
    <refentrytitle>metaproxy</refentrytitle>
    <manvolnum>1</manvolnum>
   </citerefentry>
  </para>
 </refsect1>

 &copyright;
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: nxml
nxml-child-indent: 1
End:
-->
