<?xml version="1.0"?>
<!-- $Id: config-sru-to-z3950.xml,v 1.9 2007-01-05 10:58:30 marc Exp $ -->
<metaproxy 
    xmlns="http://indexdata.com/metaproxy" 
    version="1.0">
  <start route="start"/>
  <filters>
    <filter id="frontend" type="frontend_net">
      <threads>10</threads>
      <port>@:9000</port>
    </filter>
    <filter id="zeerex" type="zeerex_explain">
      <database name="Default">
        <explain xmlns="http://explain.z3950.org/dtd/2.0/">
          ...
        </explain>
      </database>
      <database name="Dummy"/>
    </filter>
    <filter id="backend" type="z3950_client">
     <timeout>30</timeout>
    </filter>
  </filters>
  <routes>  
    <route id="start">
      <filter refid="frontend"/>
      <filter type="log">
        <message>ZEEREX</message>
      </filter>
      <filter refid="zeerex"/>
      <filter type="log">
        <message>SRU/Z3950</message>
      </filter>
      <filter type="sru_z3950"/>
      <filter type="log">
        <message>VIRTDB</message>
      </filter>
     <filter type="virt_db">
        <virtual>
          <database>Default</database>
          <target>localhost:9999/Default</target>
        </virtual>
      </filter>
      <filter refid="backend"/>
      <filter type="bounce"/>
    </route>
  </routes>
</metaproxy>

